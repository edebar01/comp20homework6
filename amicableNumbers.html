<!DOCTYPE html> 
<html> 
<head>
<meta charset="utf-8">
<title>Amicable Numbers</title>

<script language="javascript">
	window.onload = function()
	{
		document.getElementById("submit-numbers").onclick = 
		function()
		{
			document.getElementById("number-display").innerHTML = " ";
			num1 = document.getElementById("number-1").value;
			num2 = document.getElementById("number-2").value;
			result = "Number One: " + num1 + "<br/>";
			result += "Number Two: " + num2 + "<br/>";
			
			//TESTING for isFactor()
			// if (isFactor(parseInt(num1), parseInt(num2)))
			// {
			// 	result += num2 + " is a factor of " + num1 + "<br/>";
			// }
			//document.getElementById("number-display").innerHTML += result;

			//TESTING for showArray() and addArray()
			// fruits = [4, 6, 8, 2];
			// showArray(fruits);
			// sum = addArray(fruits);
			// document.getElementById("number-display").innerHTML += "<br/>" + sum + "<br/>";

			//TESTING for getFactors()
			// showArray(getFactors(220));

			num1Sum = addArray(getFactors(parseInt(num1)));
			num2Sum = addArray(getFactors(parseInt(num2)));

			result += "<br/>" + "The factors of " + num1 + " (excluding itself) are [";
			result += showArray(getFactors(parseInt(num1))) + "]" + 
			" which sums to " + num1Sum;
			result+= "<br/>" + "The factors of " + num2 + " (excluding itself) are [";
			result += showArray(getFactors(parseInt(num2))) + "]" + 
			" which sums to " + num2Sum;

			amicable = ((num1Sum == num2) && (num2Sum == num1)) ? " are "
			 												: " are not ";

			result += "<br/> <br/> " + num1 + " and " + num2 + amicable + "amicable";

			document.getElementById("number-display").innerHTML += result;
		}

		document.getElementById("clear-form").onclick = 
		function()
		{
			document.getElementById("number-display").innerHTML = " ";
			num1 = document.getElementById("number-1").value = "";
			num2 = document.getElementById("number-2").value = "";
		}
	}

	function isFactor(number, factor)
	{
		if (factor > number)
		{
			return false
		} 
		else
		{
			return ((number % factor) == 0);
		}
	}

	function showArray(array)
	{
		result = "";
		for (i = 0; i < array.length; i++)
		{
			result += array[i];
			if (i != array.length - 1)
			{
				result += " ";
			}
		}

		return result;
	}

	function addArray(array)
	{
		sum = 0;
		for (i = 0; i < array.length; i++)
		{
			sum += array[i];
		}
		return sum;
	}

	function getFactors(number)
	{
		factors = [];
		for (i = 0; i < number; i++)
		{
			if (isFactor(number, i))
			{
				factors.push(i);
			}
		}

		return factors;
	}
	
</script>
</head>

<body>
	Please enter two numbers
	<br/> <br/>
	<form name="numbers">
		Number One: <input type="text" name="number1" id="number-1">
		<br/> <br/>
		Number Two: <input type="text" name="number2" id="number-2">
		<br/> <br/>
		<input type="button" value="Submit" id="submit-numbers">
		<br/> <br/>
		<input type="button" value="Clear form" id="clear-form">
	</form>
	<hr>
	<div id="number-display"> &nbsp; </div>
</body>
</html>